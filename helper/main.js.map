{"version":3,"sources":["_utility.js","bok.js","main.js"],"names":["log","args","console","wait","ms","Promise","resolve","setTimeout","setup","HTMLElement","prototype","trigger","eStr","e","document","createEvent","initEvent","dispatchEvent","parent","querySelector","div","createElement","h3","innerText","button","setAttribute","addEventListener","event","navigator","clipboard","readText","value","texts","split","attrs","values","entries","index","attr","targetInput","focus","nodeName","targetRadio","checked","blockquote","appendChild","ctrlKey","key","match","bokLayoutButton","onClickLayoutButton","removeEventListener","main"],"mappings":"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","file":"main.js","sourceRoot":"../../helper/src","sourcesContent":["export const log = (...args) => {\n  console.log('CovOne Helper:', ...args)\n}\n\nexport const wait = async (ms) => {\n  await new Promise((resolve) => setTimeout(resolve, ms))\n}\n","import { log, wait } from './_utility'\n\nexport default () => {\n  const setup = () => {\n    HTMLElement.prototype.trigger = function (eStr) {\n      var e = document.createEvent('HTMLEvents')\n      e.initEvent(eStr, true, true)\n      this.dispatchEvent(e)\n    }\n\n    const parent = document.querySelector(\n      '#ui-id-1 > table > tbody > tr > td:nth-child(3) > table > tbody > tr:nth-child(2) > td',\n    )\n\n    const div = document.createElement('div')\n    const h3 = document.createElement('h3')\n    h3.innerText = 'Bok Helper'\n\n    const button = document.createElement('button')\n    button.innerText = 'クリップボードからコマンドを反映'\n    button.setAttribute('id', 'apply-command')\n    button.addEventListener('click', async (event) => {\n      const value = await navigator.clipboard.readText()\n\n      if (!value) return\n      const texts = value.split(':')\n      const attrs = texts[1].split(',')\n      const values = texts[0].split(',')\n\n      for (const [index, attr] of attrs.entries()) {\n        const value = values[index]\n        if (!value) continue\n        console.log(attr, value)\n\n        const targetInput = document.querySelector(`.BoKpdf_prop_value_${attr}`)\n        console.log(targetInput)\n        if (targetInput) {\n          if (\n            attr === 'fieldcode' &&\n            !targetInput.querySelector(`option[value=\"${value}\"]`)\n          )\n            continue\n          targetInput.value = value\n          targetInput.focus()\n          if (targetInput.nodeName === 'SELECT') {\n            targetInput.trigger('change')\n          } else {\n            targetInput.trigger('keyup')\n          }\n        } else {\n          const targetRadio = document.querySelector(\n            `[name=BoKpdf_prop_value_${attr}][value=${value}]`,\n          )\n          if (!targetRadio) continue\n          targetRadio.checked = true\n          targetRadio.focus()\n          targetRadio.trigger('change')\n        }\n      }\n    })\n\n    const blockquote = document.createElement('blockquote')\n    blockquote.innerText = `\n複製: Ctrl + d\n削除: Ctrl + Backspace\nツールバー選択: Ctrl + 1-6\nコマンド適用: Ctrl + a\n`\n\n    div.appendChild(h3)\n    div.appendChild(button)\n    div.appendChild(blockquote)\n    parent.appendChild(div)\n\n    document.addEventListener('keydown', async (event) => {\n      // log(event)\n      if (event.ctrlKey && event.key === 'd') {\n        log('Shortcut', 'Dupulicate')\n        document\n          .querySelector('.reportpdf_report_config_dialog_itemCopy')\n          .trigger('click')\n        await wait(100)\n        document\n          .querySelector('.reportpdf_report_config_dialog_itemPaste')\n          .trigger('click')\n        return false\n      } else if (event.ctrlKey && event.key === 'Backspace') {\n        log('Shortcut', 'Delete')\n        document\n          .querySelector('.reportpdf_report_config_dialog_itemRemove')\n          .trigger('click')\n        return false\n      } else if (event.ctrlKey && event.key === 'a') {\n        log('Shortcut', 'Apply Command')\n        document.querySelector('#apply-command').trigger('click')\n        return false\n      } else if (event.ctrlKey && event.key.match(/[1-6]/)) {\n        log('Shortcut', 'Toolbox', event.key)\n        document\n          .querySelector(`.reportpdf_report_toolbox:nth-child(${event.key})`)\n          .trigger('click')\n        return false\n      }\n    })\n  }\n\n  const main = () => {\n    log('Bok Installed')\n    const bokLayoutButton = document.querySelector(\n      '#kintoneplugin-pattern-tbody > tr:nth-child(2) > td:nth-child(5) > div > div > div > button.template_setting',\n    )\n\n    if (!bokLayoutButton) return\n\n    const onClickLayoutButton = async () => {\n      await wait(100)\n      setup()\n      log('Script Inserted')\n      bokLayoutButton.removeEventListener('click', onClickLayoutButton)\n    }\n\n    bokLayoutButton.addEventListener('click', onClickLayoutButton, false)\n  }\n  main()\n}\n","import bok from './bok'\n\nbok()\n"]}