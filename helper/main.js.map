{"mappings":"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","sources":["src/_utility.js","src/_kintone.js","node_modules/clean-stack/index.js","node_modules/clean-stack/node_modules/escape-string-regexp/index.js","node_modules/aggregate-error/index.js","node_modules/indent-string/index.js","node_modules/p-map/index.js","src/main/bok-data.js","src/main/app.js","src/main/main.js","src/main/bok.js"],"sourcesContent":["export const log = (...args) => {\n  console.log('CovOne Helper:', ...args)\n}\n\nexport const wait = async (ms) => {\n  await new Promise((resolve) => setTimeout(resolve, ms))\n}\n\nexport const setupElementTrigger = () => {\n  HTMLElement.prototype.trigger = function (eStr) {\n    var e = document.createEvent('HTMLEvents')\n    e.initEvent(eStr, true, true)\n    this.dispatchEvent(e)\n  }\n}\n\nexport const waitForElement = (selector, timeout = 2000, checkTimes = 10) => {\n  return new Promise((resolve, reject) => {\n    const duration = timeout / checkTimes\n    let times = 0\n\n    const checkElement = () => {\n      const element = document.querySelector(selector)\n      if (element) {\n        resolve(element)\n        return\n      }\n      if (++times >= checkTimes) {\n        reject('Element does not exist.')\n        return\n      }\n\n      setTimeout(checkElement, duration)\n    }\n    checkElement()\n  })\n}\n","export const getAppInfo = async (app) => {\n  return await kintone.api(kintone.api.url('/k/v1/app', true), 'GET', {\n    id: app,\n  })\n}\n\nexport const getAppsInfo = async () => {\n  return (await kintone.api(kintone.api.url('/k/v1/apps', true), 'GET', {})).apps\n}\n\nexport const getAppFields = async (app) => {\n  return (\n    await kintone.api(kintone.api.url('/k/v1/app/form/fields', true), 'GET', {\n      app,\n    })\n  ).properties\n}\n\nexport const getAppRecord = async (app, query) => {\n  const records = (\n    await kintone.api(kintone.api.url('/k/v1/records', true), 'GET', {\n      app,\n      query,\n    })\n  ).records\n  return records.length ? records[0] : null\n}\n\nexport const getAppRecords = async (app, query) => {\n  return (\n    await kintone.api(kintone.api.url('/k/v1/records', true), 'GET', {\n      app,\n      query,\n    })\n  ).records\n}\n\nexport const createAppRecord = async (app, field) => {\n  return (\n    await kintone.api(kintone.api.url('/k/v1/records', true), 'POST', {\n      app,\n      records: [field], // { HER_SYS_ID: {value: 1} }\n    })\n  ).ids[0]\n}\n\nexport const updateAppRecord = async (app, updateKey, fields) => {\n  await kintone.api(kintone.api.url('/k/v1/record', true), 'PUT', {\n    app,\n    updateKey, // { field: 'HER_SYS_ID', value: 1, },\n    record: fields,\n  })\n}\n","import os from 'os';\nimport escapeStringRegexp from 'escape-string-regexp';\n\nconst extractPathRegex = /\\s+at.*[(\\s](.*)\\)?/;\nconst pathRegex = /^(?:(?:(?:node|node:[\\w/]+|(?:(?:node:)?internal\\/[\\w/]*|.*node_modules\\/(?:babel-polyfill|pirates)\\/.*)?\\w+)(?:\\.js)?:\\d+:\\d+)|native)/;\nconst homeDir = typeof os.homedir === 'undefined' ? '' : os.homedir().replace(/\\\\/g, '/');\n\nexport default function cleanStack(stack, {pretty = false, basePath} = {}) {\n\tconst basePathRegex = basePath && new RegExp(`(at | \\\\()${escapeStringRegexp(basePath.replace(/\\\\/g, '/'))}`, 'g');\n\n\tif (typeof stack !== 'string') {\n\t\treturn undefined;\n\t}\n\n\treturn stack.replace(/\\\\/g, '/')\n\t\t.split('\\n')\n\t\t.filter(line => {\n\t\t\tconst pathMatches = line.match(extractPathRegex);\n\t\t\tif (pathMatches === null || !pathMatches[1]) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst match = pathMatches[1];\n\n\t\t\t// Electron\n\t\t\tif (\n\t\t\t\tmatch.includes('.app/Contents/Resources/electron.asar') ||\n\t\t\t\tmatch.includes('.app/Contents/Resources/default_app.asar')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn !pathRegex.test(match);\n\t\t})\n\t\t.filter(line => line.trim() !== '')\n\t\t.map(line => {\n\t\t\tif (basePathRegex) {\n\t\t\t\tline = line.replace(basePathRegex, '$1');\n\t\t\t}\n\n\t\t\tif (pretty) {\n\t\t\t\tline = line.replace(extractPathRegex, (m, p1) => m.replace(p1, p1.replace(homeDir, '~')));\n\t\t\t}\n\n\t\t\treturn line;\n\t\t})\n\t\t.join('\\n');\n}\n","export default function escapeStringRegexp(string) {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when it’s always valid, and a `\\xnn` escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n}\n","import indentString from 'indent-string';\nimport cleanStack from 'clean-stack';\n\nconst cleanInternalStack = stack => stack.replace(/\\s+at .*aggregate-error\\/index.js:\\d+:\\d+\\)?/g, '');\n\nexport default class AggregateError extends Error {\n\t#errors;\n\n\tname = 'AggregateError';\n\n\tconstructor(errors) {\n\t\tif (!Array.isArray(errors)) {\n\t\t\tthrow new TypeError(`Expected input to be an Array, got ${typeof errors}`);\n\t\t}\n\n\t\terrors = errors.map(error => {\n\t\t\tif (error instanceof Error) {\n\t\t\t\treturn error;\n\t\t\t}\n\n\t\t\tif (error !== null && typeof error === 'object') {\n\t\t\t\t// Handle plain error objects with message property and/or possibly other metadata\n\t\t\t\treturn Object.assign(new Error(error.message), error);\n\t\t\t}\n\n\t\t\treturn new Error(error);\n\t\t});\n\n\t\tlet message = errors\n\t\t\t.map(error => {\n\t\t\t\t// The `stack` property is not standardized, so we can't assume it exists\n\t\t\t\treturn typeof error.stack === 'string' ? cleanInternalStack(cleanStack(error.stack)) : String(error);\n\t\t\t})\n\t\t\t.join('\\n');\n\t\tmessage = '\\n' + indentString(message, 4);\n\t\tsuper(message);\n\n\t\tthis.#errors = errors;\n\t}\n\n\tget errors() {\n\t\treturn this.#errors.slice();\n\t}\n}\n","export default function indentString(string, count = 1, options = {}) {\n\tconst {\n\t\tindent = ' ',\n\t\tincludeEmptyLines = false\n\t} = options;\n\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`input\\` to be a \\`string\\`, got \\`${typeof string}\\``\n\t\t);\n\t}\n\n\tif (typeof count !== 'number') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`count\\` to be a \\`number\\`, got \\`${typeof count}\\``\n\t\t);\n\t}\n\n\tif (count < 0) {\n\t\tthrow new RangeError(\n\t\t\t`Expected \\`count\\` to be at least 0, got \\`${count}\\``\n\t\t);\n\t}\n\n\tif (typeof indent !== 'string') {\n\t\tthrow new TypeError(\n\t\t\t`Expected \\`options.indent\\` to be a \\`string\\`, got \\`${typeof indent}\\``\n\t\t);\n\t}\n\n\tif (count === 0) {\n\t\treturn string;\n\t}\n\n\tconst regex = includeEmptyLines ? /^/gm : /^(?!\\s*$)/gm;\n\n\treturn string.replace(regex, indent.repeat(count));\n}\n","import AggregateError from 'aggregate-error';\n\nexport default async function pMap(\n\titerable,\n\tmapper,\n\t{\n\t\tconcurrency = Number.POSITIVE_INFINITY,\n\t\tstopOnError = true\n\t} = {}\n) {\n\treturn new Promise((resolve, reject_) => { // eslint-disable-line promise/param-names\n\t\tif (iterable[Symbol.iterator] === undefined && iterable[Symbol.asyncIterator] === undefined) {\n\t\t\tthrow new TypeError(`Expected \\`input\\` to be either an \\`Iterable\\` or \\`AsyncIterable\\`, got (${typeof iterable})`);\n\t\t}\n\n\t\tif (typeof mapper !== 'function') {\n\t\t\tthrow new TypeError('Mapper function is required');\n\t\t}\n\n\t\tif (!((Number.isSafeInteger(concurrency) || concurrency === Number.POSITIVE_INFINITY) && concurrency >= 1)) {\n\t\t\tthrow new TypeError(`Expected \\`concurrency\\` to be an integer from 1 and up or \\`Infinity\\`, got \\`${concurrency}\\` (${typeof concurrency})`);\n\t\t}\n\n\t\tconst result = [];\n\t\tconst errors = [];\n\t\tconst skippedIndexesMap = new Map();\n\t\tlet isRejected = false;\n\t\tlet isResolved = false;\n\t\tlet isIterableDone = false;\n\t\tlet resolvingCount = 0;\n\t\tlet currentIndex = 0;\n\t\tconst iterator = iterable[Symbol.iterator] === undefined ? iterable[Symbol.asyncIterator]() : iterable[Symbol.iterator]();\n\n\t\tconst reject = reason => {\n\t\t\tisRejected = true;\n\t\t\tisResolved = true;\n\t\t\treject_(reason);\n\t\t};\n\n\t\tconst next = async () => {\n\t\t\tif (isResolved) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nextItem = await iterator.next();\n\n\t\t\tconst index = currentIndex;\n\t\t\tcurrentIndex++;\n\n\t\t\t// Note: `iterator.next()` can be called many times in parallel.\n\t\t\t// This can cause multiple calls to this `next()` function to\n\t\t\t// receive a `nextItem` with `done === true`.\n\t\t\t// The shutdown logic that rejects/resolves must be protected\n\t\t\t// so it runs only one time as the `skippedIndex` logic is\n\t\t\t// non-idempotent.\n\t\t\tif (nextItem.done) {\n\t\t\t\tisIterableDone = true;\n\n\t\t\t\tif (resolvingCount === 0 && !isResolved) {\n\t\t\t\t\tif (!stopOnError && errors.length > 0) {\n\t\t\t\t\t\treject(new AggregateError(errors));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tisResolved = true;\n\n\t\t\t\t\tif (!skippedIndexesMap.size) {\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst pureResult = [];\n\n\t\t\t\t\t// Support multiple `pMapSkip`'s.\n\t\t\t\t\tfor (const [index, value] of result.entries()) {\n\t\t\t\t\t\tif (skippedIndexesMap.get(index) === pMapSkip) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpureResult.push(value);\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(pureResult);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolvingCount++;\n\n\t\t\t// Intentionally detached\n\t\t\t(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst element = await nextItem.value;\n\n\t\t\t\t\tif (isResolved) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst value = await mapper(element, index);\n\n\t\t\t\t\t// Use Map to stage the index of the element.\n\t\t\t\t\tif (value === pMapSkip) {\n\t\t\t\t\t\tskippedIndexesMap.set(index, value);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[index] = value;\n\n\t\t\t\t\tresolvingCount--;\n\t\t\t\t\tawait next();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (stopOnError) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors.push(error);\n\t\t\t\t\t\tresolvingCount--;\n\n\t\t\t\t\t\t// In that case we can't really continue regardless of `stopOnError` state\n\t\t\t\t\t\t// since an iterable is likely to continue throwing after it throws once.\n\t\t\t\t\t\t// If we continue calling `next()` indefinitely we will likely end up\n\t\t\t\t\t\t// in an infinite loop of failed iteration.\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait next();\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})();\n\t\t};\n\n\t\t// Create the concurrent runners in a detached (non-awaited)\n\t\t// promise. We need this so we can await the `next()` calls\n\t\t// to stop creating runners before hitting the concurrency limit\n\t\t// if the iterable has already been marked as done.\n\t\t// NOTE: We *must* do this for async iterators otherwise we'll spin up\n\t\t// infinite `next()` calls by default and never start the event loop.\n\t\t(async () => {\n\t\t\tfor (let index = 0; index < concurrency; index++) {\n\t\t\t\ttry {\n\t\t\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\t\t\tawait next();\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isIterableDone || isRejected) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t})();\n\t});\n}\n\nexport const pMapSkip = Symbol('skip');\n","import {\n  getAppsInfo,\n  getAppRecords,\n  getAppFields,\n  getAppInfo,\n} from '../_kintone'\nimport pMap from 'p-map'\n\nconst bokDataLoop = (data, newItemCreator) => {\n  data.page.map((page, pageIndex) => {\n    page.output.map((output, outputIndex) => {\n      const outputString = JSON.stringify(output)\n      const newItem = newItemCreator(output, outputIndex)\n      if (!newItem) return\n      console.log(pageIndex, outputIndex, outputString, JSON.stringify(newItem))\n      data.page[pageIndex].output[outputIndex] = newItem\n    })\n  })\n  return data\n}\n\nconst bokDataNum = (input, codes) => {\n  // window.bokData.setNumberType(datadata, ['HER_SYS_ID', '県ナンバー', '市ナンバー', '年齢', '月齢', '喫煙開始年齢', '喫煙終了年齢', '喫煙一日本数', '妊娠週数', '妊娠月数', 'BMI', '身長', '体重', '高齢障害者身体手帳種', '高齢障害者身体手帳等級', '高齢障害者精神手帳等級', '接触者例目', '濃厚接触者年齢'])\n  const output = bokDataLoop(JSON.parse(input), (item, itemIndex) => {\n    if (!codes.find((value) => value === item.fieldCode)) return null\n    item.type = 'NUM'\n    return item\n  })\n  console.log(JSON.stringify(output))\n}\n\nconst bokDataFontSize = (input, fontSize) => {\n  // window.bokData.setNumberType(datadata, ['HER_SYS_ID', '県ナンバー', '市ナンバー', '年齢', '月齢', '喫煙開始年齢', '喫煙終了年齢', '喫煙一日本数', '妊娠週数', '妊娠月数', 'BMI', '身長', '体重', '高齢障害者身体手帳種', '高齢障害者身体手帳等級', '高齢障害者精神手帳等級', '接触者例目', '濃厚接触者年齢'])\n  const output = bokDataLoop(JSON.parse(input), (item, itemIndex) => {\n    // if (!codes.find((value) => value === item.fieldCode)) return null\n    if (item.mode !== 'item_char') return\n    item.fontSize = fontSize\n    return item\n  })\n  console.log(JSON.stringify(output))\n}\n\nconst checkFieldCodeSetting = async () => {\n  const apps = await getAppsInfo()\n  const app = apps.find((app) => app.name === '帳票定義アプリ(PDF)')\n\n  const records = await getAppRecords(app.appId)\n  // console.log(records)\n\n  pMap(records, async (record) => {\n    const recordAppId = record['アプリID'].value\n    const fields = await getAppFields(recordAppId)\n    const info = await getAppInfo(recordAppId)\n\n    record['雛形'].value.forEach((format, formatIndex) => {\n      const mappingValue = format.value['マッピング情報'].value\n      if (!mappingValue) return\n      const mapping = JSON.parse(mappingValue)\n      mapping.page.forEach((page, pageIndex) => {\n        page.output.forEach((item, itemIndex) => {\n          if (item.fieldCode === '') {\n            console.log(\n              recordAppId,\n              info.name,\n              'formatIndex:' + formatIndex,\n              'pageIndex:' + pageIndex,\n              'itemIndex:' + itemIndex,\n              'フィールドコード未設定',\n            )\n          } else if (!fields.hasOwnProperty(item.fieldCode)) {\n            if (item.fieldCode === '&DATE') return\n            if (\n              item.subTable &&\n              fields[item.subTable] &&\n              fields[item.subTable].fields.hasOwnProperty(item.fieldCode)\n            )\n              return // グループに存在する場合\n            console.log(\n              recordAppId,\n              info.name,\n              'formatIndex:' + formatIndex,\n              'pageIndex:' + pageIndex,\n              '存在しないフィールドコード',\n              item.fieldCode,\n            )\n          }\n        })\n      })\n    })\n  })\n}\n\nexport default () => {\n  window.bokData = {\n    bokDataNum,\n    bokDataFontSize,\n    checkFieldCodeSetting,\n  }\n}\n","import { getAppsInfo, getAppFields } from '../_kintone'\nimport pMap from 'p-map'\n\n// window.app.getAppsId()\nconst getAppsId = async () => {\n  const apps = await getAppsInfo()\n  console.log(apps)\n\n  const filterApps = []\n  for (let i = 1; i <= 42; i++) {\n    const app = apps.find(\n      (app) => !!app.name.match(new RegExp(`^CovOne_F${i}[^0-9].+$`)),\n    )\n    filterApps.push({\n      id: app ? app.appId : -1,\n      name: `F${i}`,\n    })\n  }\n\n  console.log(filterApps)\n\n  let text = ''\n  filterApps.forEach((app) => {\n    text += `${app.id != -1 ? app.id : ''}\\t${app.name}\\n`\n  })\n  console.log(text)\n\n  let envText = ''\n  filterApps.forEach((app) => {\n    if (app.id != -1) envText += `${app.id},`\n  })\n  console.log(envText)\n}\n\nconst getRelatedFieldApps = async (fieldCode, focus = '') => {\n  const apps = await getAppsInfo()\n  console.log(apps)\n\n  await pMap(apps, async (app) => {\n    const fields = await getAppFields(app.appId)\n\n    const key = Object.keys(fields).find((key) => key.match(new RegExp(`^${fieldCode}$`)))\n    if(!key) return\n    console.log('app', app.appId, app.name, focus != '' ? fields[key][focus] : fields[key])\n  })\n}\n\nexport default () => {\n  window.app = {\n    getAppsId,\n    getRelatedFieldApps\n  }\n}\n","import { log } from '../_utility'\nimport bok from './bok'\nimport bokData from './bok-data'\nimport app from './app'\n\nlog('Main Version', process.env.now)\n\nbok()\nbokData()\napp()\n","import { log, wait, setupElementTrigger, waitForElement } from '../_utility'\n\nexport default () => {\n  const setup = (parent) => {\n    setupElementTrigger()\n\n    const div = document.createElement('div')\n    const h3 = document.createElement('h3')\n    h3.innerText = 'Bok Helper'\n\n    const button = document.createElement('button')\n    button.innerText = 'クリップボードからコマンドを反映'\n    button.setAttribute('id', 'apply-command')\n    button.addEventListener('click', async (event) => {\n      const value = await navigator.clipboard.readText()\n      if (!value) return\n\n      try {\n        const texts = value.split(':')\n        const attrs = texts[1].split(',')\n        const values = texts[0].split(',')\n\n        for (const [index, attr] of attrs.entries()) {\n          let value = values[index]\n          if (!value) continue\n          console.log(attr, value)\n\n          const targetInput = document.querySelector(\n            `.BoKpdf_prop_value_${attr}`,\n          )\n          console.log(targetInput)\n          if (targetInput) {\n            if (attr === 'fieldcode' && value === '現在日時') {\n              value = '&DATE'\n            }\n            if (\n              attr === 'fieldcode' &&\n              !targetInput.querySelector(`option[value=\"${value}\"]`)\n            ) {\n              continue\n            }\n\n            if (value.match(/^\\!.+/)) continue\n\n            targetInput.value = value\n\n            targetInput.focus()\n            if (targetInput.nodeName === 'SELECT') {\n              targetInput.trigger('change')\n            } else {\n              targetInput.trigger('change')\n              targetInput.trigger('keyup')\n            }\n          } else {\n            const targetRadio = document.querySelector(\n              `[name=BoKpdf_prop_value_${attr}][value=${value}]`,\n            )\n            if (!targetRadio) continue\n            targetRadio.checked = true\n            targetRadio.focus()\n            targetRadio.trigger('change')\n          }\n        }\n      } catch (e) {\n        alert('コマンドの実行に失敗しました\\n' + e.message)\n        return\n      }\n    })\n\n    const blockquote = document.createElement('blockquote')\n    blockquote.innerText = `\n複製: Ctrl + d\n削除: Ctrl + Backspace\nツールバー選択: Ctrl + 1-6\nコマンド適用: Ctrl + a\n`\n\n    div.appendChild(h3)\n    div.appendChild(button)\n    div.appendChild(blockquote)\n    parent.appendChild(div)\n\n    document.addEventListener('keydown', async (event) => {\n      // log(event)\n      if (event.ctrlKey && event.key === 'd') {\n        log('Shortcut', 'Dupulicate')\n        document\n          .querySelector('.reportpdf_report_config_dialog_itemCopy')\n          .trigger('click')\n        await wait(100)\n        document\n          .querySelector('.reportpdf_report_config_dialog_itemPaste')\n          .trigger('click')\n        return false\n      } else if (event.ctrlKey && event.key === 'Backspace') {\n        log('Shortcut', 'Delete')\n        document\n          .querySelector('.reportpdf_report_config_dialog_itemRemove')\n          .trigger('click')\n        return false\n      } else if (event.ctrlKey && event.key === 'a') {\n        log('Shortcut', 'Apply Command')\n        document.querySelector('#apply-command').trigger('click')\n        return false\n      } else if (event.ctrlKey && event.key.match(/[1-6]/)) {\n        log('Shortcut', 'Toolbox', event.key)\n        document\n          .querySelector(`.reportpdf_report_toolbox:nth-child(${event.key})`)\n          .trigger('click')\n        return false\n      }\n    })\n  }\n\n  const main = async () => {\n    try {\n      const bokLayoutButton = await waitForElement(\n        '#kintoneplugin-pattern-tbody > tr:nth-child(2) > td:nth-child(5) > div > div > div > button.template_setting',\n        3000,\n      )\n\n      bokLayoutButton.addEventListener(\n        'click',\n        async () => {\n          const parent = await waitForElement(\n            '#ui-id-1 > table > tbody > tr > td:nth-child(3) > table > tbody > tr:nth-child(2) > td',\n            2000,\n          )\n          setup(parent)\n        },\n        { once: true },\n      )\n      log('Bok installed')\n    } catch (e) {\n      log('Bok not installed', e)\n    }\n  }\n  main()\n}\n"],"names":["$487cd5f13853f1a3$export$bef1f36f5486a6a3","args","console","log","$487cd5f13853f1a3$export$f87fd54b9ab35b9e","HTMLElement","prototype","trigger","eStr","e","document","createEvent","initEvent","this","dispatchEvent","$487cd5f13853f1a3$export$1a1c301579a08d1e","selector","timeout","checkTimes","Promise","resolve","reject","duration","times","checkElement","element","querySelector","setTimeout","$15f0fc797eaa4de8$export$db07b8502f97f17f","async","kintone","api","url","apps","$15f0fc797eaa4de8$export$5ffb80a64b4309e5","app","properties","$2c54bb3f00584c51$var$extractPathRegex","$2c54bb3f00584c51$var$pathRegex","$2c54bb3f00584c51$var$homeDir","$parcel$interopDefault","$c9c166bf312bed52$exports","homedir","replace","stack","pretty","basePath","basePathRegex","RegExp","string","TypeError","$37f4b917fcdce974$export$2e2bcd8739ae039","split","filter","line","pathMatches","match","includes","test","trim","map","m","p1","join","Error","errors","name","Array","isArray","message","error","Object","assign","$2c54bb3f00584c51$export$2e2bcd8739ae039","String","count","options","indent","includeEmptyLines","RangeError","regex","repeat","$94149ab2da0150f6$export$2e2bcd8739ae039","super","slice","iterable","mapper","concurrency","Number","POSITIVE_INFINITY","stopOnError","reject_","undefined","Symbol","iterator","asyncIterator","isSafeInteger","result","skippedIndexesMap","Map","isRejected","isResolved","isIterableDone","resolvingCount","currentIndex","reason","next","nextItem","index","done","length","$5a2c160e8969a723$export$2e2bcd8739ae039","size","pureResult","value","entries","get","$e7681c3b5eedf409$export$ef41e78d80d1b394","push","set","$0b812aea55331c77$var$bokDataLoop","data","newItemCreator","page","pageIndex","output","outputIndex","outputString","JSON","stringify","newItem","$0b812aea55331c77$var$bokDataNum","input","codes","parse","item","itemIndex","find","fieldCode","type","$0b812aea55331c77$var$bokDataFontSize","fontSize","mode","$0b812aea55331c77$var$checkFieldCodeSetting","app1","$e7681c3b5eedf409$export$2e2bcd8739ae039","query","records","$15f0fc797eaa4de8$export$55faad1b98e403b1","appId","record","recordAppId","fields","info","id","$15f0fc797eaa4de8$export$1780583a0ab8f6e3","forEach","format","formatIndex","mappingValue","hasOwnProperty","subTable","$53e37465e71309aa$var$getAppsId","filterApps","i","text","envText","$53e37465e71309aa$var$getRelatedFieldApps","focus","key1","keys","key","setup","parent","div","createElement","h3","innerText","button","setAttribute","addEventListener","event","navigator","clipboard","readText","texts","attrs","values","attr","targetInput","nodeName","targetRadio","checked","alert","blockquote","appendChild","ctrlKey","ms","$487cd5f13853f1a3$export$5c069c93d2b7493f","once","main","$9b98de22a5179085$export$2e2bcd8739ae039","window","bokData"],"version":3,"file":"main.js.map"}